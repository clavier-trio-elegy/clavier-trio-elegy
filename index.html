<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <title>RC Drive — радиоуправляемые машинки</title>

  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="icon" href="./assets/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="./assets/icon-192.png">

  <link rel="stylesheet" href="./css/styles.css" />
</head>
<body>
  <div class="app">
    <header class="top">
      <div class="brand">
        <div class="logo">
          <div class="badge" aria-hidden="true"></div>
          <div>
            <h1>RC Drive</h1>
            <p>Мобильно. Быстро. Надёжно.</p>
          </div>
        </div>
        <button class="iconBtn" id="openCartBtn" type="button" aria-label="Открыть корзину">
          <span class="pill" id="miniDelivery">Доставка 1–2 дня</span>
          <span class="cartDot" aria-hidden="true"></span>
        </button>
      </div>

      <div class="searchRow">
        <label class="search" aria-label="Поиск">
          <span class="sIcon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2"/>
              <path d="M16.5 16.5 21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
          <input id="searchInput" placeholder="Поиск: дрифт, монстр, 4x4…" autocomplete="off" />
        </label>

        <button class="filterBtn" id="openFilterBtn" type="button" aria-label="Фильтры">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 6h16M7 12h10M10 18h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </header>

    <section class="hero" aria-label="Промо">
      <h2>Радиоуправляемые машинки для драйва</h2>
      <p class="sub">Выбери тип, добавь в корзину и оформи заказ — всё на одном экране.</p>
      <div class="chips" id="typeChips"></div>
    </section>

    <main class="content">
      <div class="sectionTitle">
        <h3 id="sectionTitle">Популярные модели</h3>
        <div class="count" id="resultsCount">—</div>
      </div>

      <div class="sortRow">
        <button class="sortPill" id="sortPopular" type="button" data-active="true">Популярные</button>
        <button class="sortPill" id="sortCheap" type="button" data-active="false">Дешевле</button>
        <button class="sortPill" id="sortFast" type="button" data-active="false">Скорость</button>
      </div>

      <section class="grid" id="productGrid" aria-label="Товары"></section>

      <footer class="footerNote">
        <p>⚡ Подсказка: нажми на карточку, чтобы открыть подробности.</p>
      </footer>
    </main>
  </div>

  <!-- Bottom bar -->
  <nav class="bottomBar" aria-label="Панель корзины">
    <div class="barInner">
      <div class="barLeft">
        <div class="small">В корзине</div>
        <div class="sum"><span id="barCount">0</span> шт · <span id="barTotal">0 ₽</span></div>
      </div>
      <div class="barRight">
        <span class="cartCount" id="barBubble">0</span>
        <button class="btn" id="checkoutBtn" type="button">Оформить</button>
      </div>
    </div>
  </nav>

  <!-- Product modal -->
  <div class="overlay" id="productOverlay" aria-hidden="true">
    <div class="sheet">
      <div class="sheetHeader">
        <div class="sheetTitle">
          <div class="sheetName" id="pmName">—</div>
          <div class="sheetSub" id="pmSub">—</div>
        </div>
        <button class="closeBtn" type="button" id="closeProductBtn" aria-label="Закрыть">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <div class="pmHero">
        <div class="pmThumb" id="pmThumb" aria-hidden="true"></div>
        <div class="pmInfo">
          <div class="pmPriceRow">
            <div class="pmPrice" id="pmPrice">—</div>
            <div class="pmOld" id="pmOld"></div>
          </div>
          <div class="pmBadges" id="pmBadges"></div>
          <div class="pmActions">
            <button class="ghost" type="button" id="pmMoreBtn">Характеристики</button>
            <button class="btn" type="button" id="pmAddBtn">В корзину</button>
          </div>
        </div>
      </div>

      <div class="pmDesc" id="pmDesc">—</div>

      <div class="pmSpecs" id="pmSpecs" hidden></div>

      <div class="pmMeta">
        <div class="pmMetaItem"><span>Гарантия</span><b>6 мес</b></div>
        <div class="pmMetaItem"><span>Оплата</span><b>карта/нал</b></div>
        <div class="pmMetaItem"><span>Доставка</span><b>курьер/пвз</b></div>
      </div>
    </div>
  </div>

  <!-- Cart modal -->
  <div class="overlay" id="cartOverlay" aria-hidden="true">
    <div class="sheet">
      <div class="sheetHeader">
        <div class="sheetTitle">
          <div class="sheetName">Корзина</div>
          <div class="sheetSub" id="cartSub">—</div>
        </div>
        <button class="closeBtn" type="button" id="closeCartBtn" aria-label="Закрыть">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <div class="cartList" id="cartList"></div>

      <div class="cartPromo">
        <label class="promoBox">
          <span class="promoLabel">Промокод</span>
          <input id="promoInput" placeholder="Например: DRIVE10" />
        </label>
        <button class="ghost" id="applyPromoBtn" type="button">Применить</button>
      </div>

      <div class="cartTotals">
        <div class="row"><span>Товары</span><b id="cartItemsSum">0 ₽</b></div>
        <div class="row"><span>Скидка</span><b id="cartDiscount">0 ₽</b></div>
        <div class="row"><span>Доставка</span><b id="cartShipping">0 ₽</b></div>
        <div class="row total"><span>Итого</span><b id="cartTotal">0 ₽</b></div>
      </div>

      <form class="orderForm" id="orderForm">
        <div class="formTitle">Оформление заказа</div>
        <div class="formGrid">
          <label class="field">
            <span>Имя</span>
            <input required name="name" placeholder="Алексей" />
          </label>
          <label class="field">
            <span>Телефон</span>
            <input required name="phone" inputmode="tel" placeholder="+49 …" />
          </label>
          <label class="field full">
            <span>Адрес / ПВЗ</span>
            <input required name="address" placeholder="Берлин, Alexanderplatz…" />
          </label>
          <label class="field full">
            <span>Комментарий (необязательно)</span>
            <input name="comment" placeholder="Позвонить за 10 минут…" />
          </label>
        </div>

        <button class="btn wide" id="placeOrderBtn" type="submit">Оформить заказ</button>
        <button class="ghost wide" id="clearCartBtn" type="button">Очистить корзину</button>

        <div class="hint">
          Это демо-сайт: после “оформления” появится подтверждение, а корзина очистится.
        </div>
      </form>

      <div class="successBox" id="successBox" hidden>
        <div class="successTitle">✅ Заказ принят!</div>
        <div class="successText" id="successText">—</div>
        <button class="btn wide" id="backToShopBtn" type="button">Вернуться к каталогу</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>

  <script src="./js/data.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>
